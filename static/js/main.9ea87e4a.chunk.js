(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{100:function(e,t,r){},101:function(e,t,r){},103:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){},109:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(18),i=r.n(c),s=r(64),o=r(7),u=r(115),l=r(117),f=r(114),h=r(22),j=r(13),d=r.n(j),v=r(21),b=r(42),p=r.n(b),O={saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},loadFromStorage:function(e){return JSON.parse(localStorage.getItem(e))}};var m="bouPb7Ob1dDQ3V3OvFX3udSa8KKD2QYq",x="weather",g="favorites",y=O.loadFromStorage(g)||[],w={getCurrWeather:function(e){return T.apply(this,arguments)},addToFavorites:function(e){return y.push(e),O.saveToStorage(g,y),y},removeFromFavorites:function(e){var t=y.findIndex((function(t){return t.id===e}));return-1!==t?(y.splice(t,1),O.saveToStorage(g,y),y):-1},isFavorite:function(e){return y.some((function(t){return t.id===e}))},getFavorites:function(){return console.log(y),y}};function T(){return(T=Object(v.a)(d.a.mark((function e(t){var r,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=O.loadFromStorage(x))){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,p()("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(m,"&q=").concat(t));case 6:return a=e.sent,e.next=9,p()("http://dataservice.accuweather.com/currentconditions/v1/".concat(a.data[0].Key,"?apikey=").concat(m));case 9:return n=e.sent,e.next=12,p()("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(a.data[0].Key,"?apikey=").concat(m,"&metric=true"));case 12:return c=e.sent,r={id:a.data[0].Key,city:a.data[0].LocalizedName,today:n.data[0],weekly:c.data},O.saveToStorage(x,r),e.abrupt("return",r);case 18:throw e.prev=18,e.t0=e.catch(3),console.log("Error",e.t0),e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}r(94);var F=r(4),C={changeUnits:function(e){return function(t){t({type:"CHANGE_UNITS",units:e})}}},S=Object(h.b)(null,C)((function(e){function t(t){e.changeUnits(t)}return Object(F.jsx)("header",{className:"header",children:Object(F.jsxs)(u.a,{bg:"light",expand:"lg",children:[Object(F.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(F.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(F.jsxs)(l.a,{className:"mr-auto",children:[Object(F.jsx)(l.a.Link,{href:"#/",children:"Home"}),Object(F.jsx)(l.a.Link,{href:"#favorites",children:"Favorites"}),Object(F.jsxs)(f.a,{title:"\xb0F / \xb0C",id:"basic-nav-dropdown",children:[Object(F.jsx)(f.a.Item,{onClick:function(){return t("c")},children:"Celsius"}),Object(F.jsx)(f.a.Item,{onClick:function(){return t("f")},children:"Fahrenheit"})]})]})})]})})})),W=r(32),E=(r(98),r(16)),k=function(e){var t=e.favorites,r=e.onChangeCurrWeather,a=e.units;function n(e){return console.log(e),"c"===a?"".concat(e.Temperature.Metric.Value," \xb0C"):"".concat(e.Temperature.Imperial.Value," \xb0F")}return Object(F.jsx)("section",{className:"favorites-list flex wrap justify-center",children:t&&t.map((function(e){return Object(F.jsxs)(E.a,{style:{width:"18rem"},className:"flex column align-center",onClick:function(){return r(e)},children:[Object(F.jsx)(E.a.Title,{children:e.city}),Object(F.jsx)(E.a.Text,{children:n(e.today)})]},e.id)}))})},N=(r(99),{setCurrWeather:function(e){return function(t){t({type:"SET_CURR_WEATHER",currWeather:e})}}}),R=Object(h.b)((function(e){return{favorites:e.weatherReducer.favorites,units:e.weatherReducer.units}}),N)((function(e){var t=Object(a.useState)(null),r=Object(W.a)(t,2),n=r[0],c=r[1];return Object(a.useEffect)((function(){c(e.favorites)})),Object(F.jsxs)("div",{className:"favorites flex column align-center",children:[Object(F.jsx)("h2",{children:"Favorites Locations"}),n&&Object(F.jsx)(k,{favorites:n,onChangeCurrWeather:function(t){e.setCurrWeather(t),e.history.push("/")},units:e.units})]})})),_=r(116),I=r(62),A=r(61),D=(r(100),function(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(W.a)(r,2),c=n[0],i=n[1];return Object(F.jsx)("section",{className:"location-search",children:Object(F.jsxs)(_.a,{inline:!0,onSubmit:function(e){e.preventDefault(),console.log("submiting"),t(c)},children:[Object(F.jsx)(I.a,{type:"text",placeholder:"Search",className:"mr-sm-2",value:c,onChange:function(e){i(e.target.value)}}),Object(F.jsx)(A.a,{variant:"outline-success",children:"Search"})]})})}),U=(r(101),function(e){var t=e.weather,r=e.city,a=e.toggleFavorite,n=e.favBtnText,c=e.units;return Object(F.jsxs)(E.a,{style:{width:"18rem"},className:"weather-preview flex column align-center",children:[Object(F.jsx)(E.a.Title,{children:r}),Object(F.jsx)("i",{onClick:a,className:n}),Object(F.jsx)(E.a.Text,{children:"c"===c?"".concat(t.Temperature.Metric.Value," \xb0C"):"".concat(t.Temperature.Imperial.Value," \xb0F")}),Object(F.jsx)(E.a.Title,{children:t.WeatherText})]})}),V=r(63),L=r.n(V),M=(r(103),function(e){var t=e.WeeklyList,r=e.units;return Object(F.jsx)("section",{className:"weekly-list flex wrap justify-center",children:t.map((function(e){return Object(F.jsxs)(E.a,{style:{width:"18rem"},className:"weather-preview flex column align-center",children:[Object(F.jsx)(E.a.Title,{children:L()(e.Date).format("ddd")}),Object(F.jsx)(E.a.Text,{children:(t=e.Temperature.Minimum.Value,a=e.Temperature.Maximum.Value,"c"===r?"".concat(t," - ").concat(a," \xb0C"):"".concat(Math.floor(1.8*t+32)," - ").concat(Math.floor(1.8*a+32)," \xb0F"))})]},e.EpochDate);var t,a}))})}),P=(r(104),{getCurrWeather:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(r){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.getCurrWeather(e);case 3:return a=t.sent,r({type:"SET_CURR_WEATHER",currWeather:a}),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),console.log("Error",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},addCityToFavorites:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(r){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=w.addToFavorites(e),r({type:"UPDATE_FAVORITES",favorites:a}),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},removeFromFavorites:function(e){return function(){var t=Object(v.a)(d.a.mark((function t(r){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=w.removeFromFavorites(e),r({type:"UPDATE_FAVORITES",favorites:a}),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),H=Object(h.b)((function(e){return console.log(e),{currWeather:e.weatherReducer.currWeather,units:e.weatherReducer.units}}),P)((function(e){var t=Object(a.useState)(""),r=Object(W.a)(t,2),n=r[0],c=r[1];function i(){return(i=Object(v.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCurrWeather(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){e.currWeather?c(w.isFavorite(e.currWeather.id)?"favorite fas fa-star":"favorite far fa-star"):function(){var t=Object(v.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCurrWeather("tel-aviv");case 3:r=t.sent,c(w.isFavorite(r.id)?"favorite fas fa-star":"favorite far fa-star"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(F.jsx)("div",{className:"home-page   ",children:e.currWeather&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("span",{className:"header flex space-between",children:[Object(F.jsx)("span",{className:"flex column align-center",children:Object(F.jsx)(U,{weather:e.currWeather.today,city:e.currWeather.city,favBtnText:n,toggleFavorite:function(){w.isFavorite(e.currWeather.id)?e.removeFromFavorites(e.currWeather.id):e.addCityToFavorites(e.currWeather),c(w.isFavorite(e.currWeather.id)?"favorite fas fa-star":"favorite far fa-star")},units:e.units})}),Object(F.jsx)(D,{onSubmit:function(e){return i.apply(this,arguments)}})]}),Object(F.jsx)(M,{WeeklyList:e.currWeather.weekly.DailyForecasts,units:e.units})]})})}));r(105);var K=function(){return Object(F.jsx)(s.a,{children:Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)(S,{}),Object(F.jsxs)(o.c,{children:[Object(F.jsx)(o.a,{component:R,path:"/favorites"}),Object(F.jsx)(o.a,{component:H,path:"/"})]})]})})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,118)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),c(e),i(e)}))},J=r(26),X=r(27),q={currWeather:null,favorites:w.getFavorites(),units:"c"};var G=r(65),Q=Object(J.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_WEATHER":return Object(X.a)(Object(X.a)({},e),{},{currWeather:t.currWeather});case"UPDATE_FAVORITES":return Object(X.a)(Object(X.a)({},e),{},{favorites:t.favorites});case"CHANGE_UNITS":return Object(X.a)(Object(X.a)({},e),{},{units:t.units});default:return e}}}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,Y=Object(J.e)(Q,z(Object(J.a)(G.a)));r(107),r(108);i.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(h.a,{store:Y,children:Object(F.jsx)(K,{})})}),document.getElementById("root")),B()},94:function(e,t,r){},98:function(e,t,r){},99:function(e,t,r){}},[[109,1,2]]]);
//# sourceMappingURL=main.9ea87e4a.chunk.js.map